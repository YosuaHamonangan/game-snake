System.register("chunks:///_virtual/asset.ts",["cc","./asset4.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.ASSET_TYPE}],execute:function(){function n(t){return"image_"+t}function r(t,e){return void 0!==e?"spritesheet_"+t+"_"+e:"spritesheet_"+t}function u(t){return"audio_"+t}t({getAssetId:function(t,e){switch(t){case s.SPRITESHEET:return r(e);case s.IMAGE:return n(e);case s.AUDIO:return u(e)}},getAudioId:u,getImageId:n,getSpriteFrameId:r}),e._RF.push({},"05b72o3uqNImqyvv/hxbcWZ","asset",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/asset2.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0b3d9SwtFlAvJGkodUk98RC","asset",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SnakeControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./DummySpritSheet.ts","./snake.ts","./FieldControl.ts"],(function(t){"use strict";var e,i,n,r,o,s,a,u,c,l,d,h,p;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.UITransform,r=t.Vec3,o=t.Component},function(t){s=t.inheritsLoose,a=t.defineProperty,u=t.assertThisInitialized},function(t){c=t.DummySpriteSheet},function(t){l=t.SNAKE_DIRECTION,d=t.SNAKE_SECTION_TYPE,h=t.SNAKE_SECTION_FRAME},function(t){p=t.FieldControl}],execute:function(){var f;e._RF.push({},"11877dwNjZP/4VyZtiqjmBq","SnakeControl",void 0);var v=i.ccclass;i.property;function S(t){switch(t){case l.RIGHT:return 270;case l.LEFT:return 90;case l.UP:return 0;case l.DOWN:return 180}}t("SnakeControl",v("SnakeControl")(f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,a(u(e),"sprite",void 0),a(u(e),"uiTransform",void 0),a(u(e),"tileSize",0),a(u(e),"dir",l.UP),e}s(e,t);var i=e.prototype;return i.onLoad=function(){this.sprite=this.getComponent(c),this.uiTransform=this.getComponent(n)},i.start=function(){var t,e,i=null===(t=this.node.parent)||void 0===t||null===(e=t.parent)||void 0===e?void 0:e.getComponent(p);i&&(this.tileSize=i.TileSize),this.adjustSize()},i.adjustSize=function(){var t;null===(t=this.uiTransform)||void 0===t||t.contentSize.set(this.tileSize,this.tileSize)},i.setType=function(t,e){var i,n=0;switch(t){case d.HEAD:n=h.HEAD;break;case d.BODY:n=h.BODY;var o=new r(0,0,S(this.dir));if(e){if(void 0!==e.prvDir&&e.prvDir!==this.dir){n=h.TURN;var s=o.z-S(e.prvDir);90===s||-270===s?o.add3f(0,0,180):o.add3f(0,0,90)}e.hasFood&&(n=n===h.BODY?h.BODY_FOOD:h.TURN_FOOD)}this.node.setRotationFromEuler(o);break;case d.TAIL:n=h.TAIL}null===(i=this.sprite)||void 0===i||i.setToFrame(n)},i.setDir=function(t){this.dir=t;var e=new r(0,0,S(t));this.node.setRotationFromEuler(e)},e}(o))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSelect.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./sceneKey.ts"],(function(e){"use strict";var t,n,c,o,r,u;return{setters:[function(e){t=e.cclegacy,n=e._decorator,c=e.director,o=e.Component},function(e){r=e.inheritsLoose},function(e){u=e.SCENE_KEY}],execute:function(){var i;t._RF.push({},"1f2da/zg7hP8L8ZuoPENmL+","SceneSelect",void 0);var s=n.ccclass;n.property,e("SceneSelect",s("SceneSelect")(i=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.goToGame=function(){c.loadScene(u.GAME)},n.goToMenu=function(){c.loadScene(u.MENU)},t}(o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/Rect.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,r,o,c,i;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.UITransform,o=t.SystemEventType,c=t.Graphics},function(t){i=t.inheritsLoose}],execute:function(){var s;e._RF.push({},"1f4411fwt1GQ6fahwQXqEMB","Rect",void 0);var a=n.ccclass,u=(n.property,n.requireComponent);t("Rect",a("Rect")(s=u(r)(s=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.start=function(){var t=this;this.node.on(o.SIZE_CHANGED,(function(){t.drawRect()})),this.node.on(o.ANCHOR_CHANGED,(function(){t.drawRect()})),this.node.on(o.ANCHOR_CHANGED,(function(){t.drawRect()})),this.drawRect()},n.drawRect=function(){var t=this.getComponent(r);if(t){var e=t.contentSize,n=e.x,o=e.y,c=t.anchorPoint,i=-n*c.x,s=-o*c.y;this.clear(),this.rect(i,s,n,o),this.fill(),this.stroke()}},e}(c))||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/MenuControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./DataManagerControl.ts"],(function(e){"use strict";var t,r,n,o,i,a,c,l,s;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Label,o=e.Component},function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,c=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){s=e.DataManagerControl}],execute:function(){var u,h,p,g,f;t._RF.push({},"3cd84s1JQhMOr0XolhnKcvq","MenuControl",void 0);var b=r.ccclass,y=r.property;e("MenuControl",(u=b("MenuControl"),h=y(n),u((f=i((g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,c(l(t),"highScoreLabel",f,l(t)),t}return a(t,e),t.prototype.start=function(){s.Instance&&this.highScoreLabel&&(this.highScoreLabel.string=s.Instance.highscore.toString())},t}(o)).prototype,"highScoreLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/asset3.ts",["cc","./asset4.ts"],(function(e){"use strict";var l,r,u,a,t,o;return{setters:[function(e){l=e.cclegacy},function(e){r=e.IMAGE_KEY,u=e.ASSET_TYPE,a=e.SPRITESHEET_KEY,t=e.AUDIO_KEY,o=e.ASSET_EXTENSION}],execute:function(){function p(e){return"http://cf.shopee.co.id/file/"+e}var s;e("getAssets",(function(){return s||((s=[]).push({key:r.LOGO_SHOPEE_ULAR,type:u.IMAGE,url:"",localUrl:"image/logo-shopee-ular"}),s.push({key:a.SNAKE,type:u.SPRITESHEET,url:"",localUrl:"image/snake",config:{frameWidth:96,frameHeight:96}}),s.push({key:r.TILE,type:u.IMAGE,url:"",localUrl:"image/tile"}),s.push({key:r.FOOD,type:u.IMAGE,url:"",localUrl:"image/apple"}),s.push({key:r.WALL,type:u.IMAGE,url:"",localUrl:"image/wall"}),s.push({key:r.ARROW_UP,type:u.IMAGE,url:"",localUrl:"image/arrow-up"}),s.push({key:r.ARROW_DOWN,type:u.IMAGE,url:"",localUrl:"image/arrow-down"}),s.push({key:r.ARROW_LEFT,type:u.IMAGE,url:"",localUrl:"image/arrow-left"}),s.push({key:r.ARROW_RIGHT,type:u.IMAGE,url:"",localUrl:"image/arrow-right"}),s.push({key:r.TROPHY,type:u.IMAGE,url:"",localUrl:"image/trophy"}),s.push({key:r.SOUND_ON,type:u.IMAGE,url:"",localUrl:"image/sound-on"}),s.push({key:r.SOUND_OFF,type:u.IMAGE,url:"",localUrl:"image/sound-off"}),s.push({key:t.BG,type:u.AUDIO,url:"",localUrl:"audio/bg-music"}),s.push({key:t.CRASH,type:u.AUDIO,url:"",localUrl:"audio/crash"}),s.push({key:t.EAT,type:u.AUDIO,url:"",localUrl:"audio/eat"}),s.push({key:t.TURN,type:u.AUDIO,url:"",localUrl:"audio/turn"}),s.push({key:r.ONLINE,type:u.IMAGE,url:p("6119dca1932fa645d831b3ab57614677"),ext:o.PNG}),s)})),l._RF.push({},"46f82jZj5FAv6UmoElh4mZ8","asset",void 0),l._RF.pop()}}}));

System.register("chunks:///_virtual/config.ts",["cc"],(function(){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"499f9kXlDdOZKkE3po14YBM","config",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/level.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"4bee3rQ0atOe5NpU1Ss2y1X","level",void 0);e("default",[{fieldConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[{x:1,y:7},{x:1,y:8},{x:1,y:9},{x:1,y:10}],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:2,minimum:.12}}},{fieldConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,1,0,1,0,1,1,0],[0,1,0,0,0,0,0,1,0,1,0,0],[0,1,0,1,0,1,1,1,0,1,0,1],[0,0,0,1,0,1,0,0,0,0,0,1],[0,1,1,1,0,1,0,1,0,0,1,1],[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,1,1,1,0,1,1,0],[0,0,0,1,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,1,0,0,1,1,0],[0,1,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,1,1,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[{x:9,y:5},{x:9,y:4},{x:10,y:4},{x:10,y:3},{x:10,y:2},{x:11,y:2},{x:11,y:1}],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:10,minimum:.2}}},{fieldConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,1,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,0,0,0,1,0],[0,0,1,0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,1,0,1,0,1,0],[0,0,1,0,0,1,1,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[{x:4,y:7},{x:5,y:7},{x:5,y:6},{x:4,y:6},{x:3,y:6},{x:3,y:7}],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:5,minimum:.2}}},{fieldConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[{x:1,y:7},{x:1,y:8},{x:1,y:9},{x:1,y:9}],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:2,minimum:.12}}}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/PanelControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./panel.ts","./DataManagerControl.ts"],(function(e){"use strict";var t,o,n,i,r,s,a,c,l,h,u,p;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.Label,i=e.Vec3,r=e.Component},function(e){s=e.applyDecoratedDescriptor,a=e.inheritsLoose,c=e.initializerDefineProperty,l=e.assertThisInitialized,h=e.defineProperty},function(e){u=e.PANEL_EVENT},function(e){p=e.DataManagerControl}],execute:function(){var f,P,d,y,L;t._RF.push({},"671e3zweyVM0L5QV2wvn7wK","PanelControl",void 0);var g=o.ccclass,w=o.property;e("PanelControl",(f=g("PanelControl"),P=w(n),f((L=s((y=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,c(l(t),"scoreLabel",L,l(t)),h(l(t),"showPos",void 0),h(l(t),"hidePos",new i(-1e4,-1e4)),t}a(t,e);var o=t.prototype;return o.start=function(){this.showPos=this.node.position.clone(),this.hide()},o.hide=function(){this.node.setPosition(this.hidePos)},o.show=function(){this.scoreLabel&&(this.scoreLabel.string=p.Instance.score.toString()),this.node.setPosition(this.showPos)},o.onPlayAgain=function(){this.node.emit(u.PLAY_AGAIN)},o.onCancel=function(){this.node.emit(u.CANCEL)},t}(r)).prototype,"scoreLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(o){"use strict";var t,i,n,e,r,u,s,c;return{setters:[function(o){t=o.cclegacy,i=o._decorator,n=o.game,e=o.AudioSource,r=o.Component},function(o){u=o.defineProperty,s=o.inheritsLoose,c=o.assertThisInitialized}],execute:function(){var a,l,d;t._RF.push({},"7a0dcFpqTFPjIydgx2Iz3zF","AudioControl",void 0);var h=i.ccclass;o("AudioControl",h("AudioControl")((d=l=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return t=o.call.apply(o,[this].concat(n))||this,u(c(t),"audioSource",null),u(c(t),"isPlaying",!0),t}s(t,o);var i=t.prototype;return i.start=function(){t.Instance||(n.addPersistRootNode(this.node),t.Instance=this),this.audioSource=this.getComponent(e)},i.on=function(){this.audioSource&&(this.audioSource.volume=1,this.isPlaying=!0)},i.off=function(){this.audioSource&&(this.audioSource.volume=0,this.isPlaying=!1)},t}(r),u(l,"Instance",void 0),a=d))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/FieldBgControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./FieldControl.ts","./DummySprite.ts"],(function(t){"use strict";var e,i,o,r,n,s,a,l,u,c;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.UITransform,r=t.Sprite,n=t.Component},function(t){s=t.inheritsLoose,a=t.defineProperty,l=t.assertThisInitialized},function(t){u=t.FieldControl},function(t){c=t.DummySprite}],execute:function(){var p;e._RF.push({},"83e2bmP7ExPuKfHw1G9bgVa","FieldBgControl",void 0);var d=i.ccclass;i.property,t("FieldBgControl",d("FieldBgControl")(p=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(l(e),"sprite",void 0),a(l(e),"uiTransform",void 0),e}s(e,t);var i=e.prototype;return i.start=function(){this.sprite=this.getComponent(c),this.uiTransform=this.getComponent(o),this.adjustSize()},i.adjustSize=function(){var t=this.sprite,e=this.uiTransform;if((null==t?void 0:t.spriteFrame)&&e){var i,o=null===(i=this.node.parent)||void 0===i?void 0:i.getComponent(u),n=o.Cols,s=o.Rows;o.TileSize;t.type=r.Type.TILED;var a=t.spriteFrame,l=e.contentSize.x,c=n*(a.width/2),p=s*(a.height/2);e.contentSize.set(c,p);var d=l/c;this.node.scale.set(d,d)}},e}(n))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoadingUIControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./assetEvent.ts"],(function(e){"use strict";var t,r,o,s,a,i,n,l,u,c,p;return{setters:[function(e){t=e.cclegacy,r=e._decorator,o=e.Node,s=e.ProgressBar,a=e.Label,i=e.Component},function(e){n=e.applyDecoratedDescriptor,l=e.inheritsLoose,u=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){p=e.ASSET_LOADER_EVENT}],execute:function(){var g,d,f,b,L,h,T,y,A,v,x;t._RF.push({},"8e440WX4+FGLYgGSzH/nzb3","AssetLoadingUIControl",void 0);var E=r.ccclass,S=r.property;e("AssetLoaderUIControl",(g=E("AssetLoaderUIControl"),d=S(o),f=S(s),b=S(a),L=S(a),g((y=n((T=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,u(c(t),"assetLoader",y,c(t)),u(c(t),"progressBar",A,c(t)),u(c(t),"progressText",v,c(t)),u(c(t),"labelText",x,c(t)),t}l(t,e);var r=t.prototype;return r.start=function(){var e=this;if(!this.assetLoader)throw new Error("No asset loader given");this.assetLoader.on(p.START,(function(t){e.updateText(t)})),this.assetLoader.on(p.ASSET_LOAD_SUCCESS,(function(t,r){e.updateText(t,r)})),this.assetLoader.on(p.COMPLETE,(function(t){e.updateText(t)}))},r.updateText=function(e,t){var r=this.progressText,o=this.labelText,s=this.progressBar,a=Math.floor(100*e);if(s&&(s.progress=e),r&&(r.string=a+"%"),o)switch(a){case 100:o.string="Completed";break;case 0:o.string="LOADING...";break;default:o.string="LOADED "+t}},t}(i)).prototype,"assetLoader",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(T.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(T.prototype,"progressText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(T.prototype,"labelText",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=T))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/field.ts",["cc"],(function(E){"use strict";var c;return{setters:[function(E){c=E.cclegacy}],execute:function(){var t,A;E({FIELD_EVENT:void 0,FIELD_STATE:void 0}),c._RF.push({},"91dccMVC35JcZLlA73sF9qS","field",void 0),function(E){E.CHANGE_DIR="ch-dir",E.SCORE_UPDATE="score"}(t||(t=E("FIELD_EVENT",{}))),function(E){E[E.PREPARE=0]="PREPARE",E[E.WAIT_PLAYER=1]="WAIT_PLAYER",E[E.PLAY=2]="PLAY",E[E.GAME_OVER=3]="GAME_OVER"}(A||(A=E("FIELD_STATE",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/assetEvent.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var s;t("ASSET_LOADER_EVENT",void 0),e._RF.push({},"973457UQuBIYqhEzuUzBDj5","assetEvent",void 0),function(t){t.START="start",t.ASSET_LOAD_SUCCESS="asset_load_success",t.ASSET_LOAD_FAILURE="asset_load_failure",t.COMPLETE="complete"}(s||(s=t("ASSET_LOADER_EVENT",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/DummyAudio.ts",["cc","./asset4.ts","./asset.ts","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,i,r,s,o,n,a,u,c,p,l,d;return{setters:[function(t){e=t.cclegacy,i=t._decorator,r=t.assetManager,s=t.AudioSource},function(t){o=t.AUDIO_KEY_PROP,n=t.AUDIO_KEY},function(t){a=t.getAudioId},function(t){u=t.extends,c=t.applyDecoratedDescriptor,p=t.inheritsLoose,l=t.initializerDefineProperty,d=t.assertThisInitialized}],execute:function(){var y,f,h,m,_;e._RF.push({},"9da7dg7rMpJUIvdsbJk0N44","DummyAudio",void 0);var g=i.ccclass,v=i.property;t("DummyAudio",(y=g("Dummy Audio Source"),f=v(u({},o,{displayOrder:-1e3})),y((_=c((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,l(d(e),"assetKey",_,d(e)),e}p(e,t);var i=e.prototype;return i.onLoad=function(){this.updateClip(),t.prototype.onLoad.call(this)},i.updateClip=function(){if(this.assetKey!==n._){var t=a(this.assetKey),e=r.assets.get(t);this.clip=e}},e}(s)).prototype,"assetKey",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n._}}),h=m))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/DummySprite.ts",["cc","./asset4.ts","./asset.ts","./_rollupPluginModLoBabelHelpers.js","./assetEvent.ts","./AssetLoaderControl.ts"],(function(t){"use strict";var e,s,r,i,n,a,o,u,c,p,l,f,y,d,m;return{setters:[function(t){e=t.cclegacy,s=t._decorator,r=t.CCBoolean,i=t.assetManager,n=t.Sprite},function(t){a=t.IMAGE_KEY_PROP,o=t.IMAGE_KEY},function(t){u=t.getImageId},function(t){c=t.extends,p=t.applyDecoratedDescriptor,l=t.inheritsLoose,f=t.initializerDefineProperty,y=t.assertThisInitialized},function(t){d=t.ASSET_LOADER_EVENT},function(t){m=t.AssetLoaderControl}],execute:function(){var h,A,S,_,E,g,v;e._RF.push({},"acf65xEWSpKwomhtbFC/R7A","DummySprite",void 0);var w=s.ccclass,D=s.property;t("DummySprite",(h=w("Dummy Sprite"),A=D(c({},a,{displayOrder:-500})),S=D({type:r,displayOrder:-499}),h((g=p((E=function(t){function e(){for(var e,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,f(y(e),"assetKey",g,y(e)),f(y(e),"waitAsset",v,y(e)),e}l(e,t);var s=e.prototype;return s.onLoad=function(){this.waitAsset?this.waitForAsset():this.updateFrame()},s.updateFrame=function(){if(this.assetKey!==o._){var t=u(this.assetKey),e=i.assets.get(t);this.spriteFrame=e}},s.waitForAsset=function(){var t=this;m.Instance&&m.Instance.node.on(d.ASSET_LOAD_SUCCESS,(function(e,s){u(t.assetKey)===s&&t.updateFrame()}))},e}(n)).prototype,"assetKey",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o._}}),v=p(E.prototype,"waitAsset",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=E))||_));e._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./snake.ts","./field.ts"],(function(t){"use strict";var e,r,o,n,i,l,c,a,s,u;return{setters:[function(t){e=t.cclegacy,r=t._decorator,o=t.Node,n=t.Component},function(t){i=t.applyDecoratedDescriptor,l=t.inheritsLoose,c=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.SNAKE_DIRECTION},function(t){u=t.FIELD_EVENT}],execute:function(){var p,f,C,d,h;e._RF.push({},"ae6a2owDcZO54FxAECap+W9","ControllerControl",void 0);var y=r.ccclass,_=r.property;t("ControllerControl",(p=y("Controller Control"),f=_(o),p((h=i((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,c(a(e),"field",h,a(e)),e}return l(e,t),e.prototype.onBtnClick=function(t,e){if(this.field){var r=e;this.field.emit(u.CHANGE_DIR,s[r])}},e}(n)).prototype,"field",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=d))||C));e._RF.pop()}}}));

System.register("chunks:///_virtual/DummySpritSheet.ts",["cc","./asset4.ts","./asset.ts","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,a,s,n,o,u,c,p,l,y;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.assetManager,a=e.Sprite},function(e){s=e.SPRITESHEET_KEY_PROP,n=e.SPRITESHEET_KEY},function(e){o=e.getSpriteFrameId},function(e){u=e.extends,c=e.applyDecoratedDescriptor,p=e.inheritsLoose,l=e.initializerDefineProperty,y=e.assertThisInitialized}],execute:function(){var f,m,h,d,S,K,_;t._RF.push({},"b7b05ax1ItHaILJkAB93KVN","DummySpritSheet",void 0);var b=r.ccclass,g=r.property;e("DummySpriteSheet",(f=b("Dummy Sprite Sheet"),m=g(u({},s,{displayOrder:-501})),h=g({step:1,min:0,displayOrder:-500}),f((K=c((S=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,l(y(t),"assetKey",K,y(t)),l(y(t),"frameKey",_,y(t)),t}p(t,e);var r=t.prototype;return r.onLoad=function(){this.updateFrame()},r.updateFrame=function(){if(this.assetKey!==n._){var e=o(this.assetKey,this.frameKey),t=i.assets.get(e);this.spriteFrame=t}},r.setToFrame=function(e){this.frameKey=e,this.updateFrame()},t}(a)).prototype,"assetKey",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n._}}),_=c(S.prototype,"frameKey",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=S))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioToggleControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./AudioControl.ts"],(function(o){"use strict";var n,t,e,i,r,c;return{setters:[function(o){n=o.cclegacy,t=o._decorator,e=o.ToggleComponent,i=o.Component},function(o){r=o.inheritsLoose},function(o){c=o.AudioControl}],execute:function(){var s;n._RF.push({},"bb47dLy/N1BS5/u3vgJciNF","AudioToggleControl",void 0);var u=t.ccclass;o("AudioToggleControl",u("Audio Toggle Control")(s=function(o){function n(){return o.apply(this,arguments)||this}r(n,o);var t=n.prototype;return t.start=function(){if(c.Instance){var o=this.getComponent(e);if(!o)return;o.isChecked=c.Instance.isPlaying}},t.toggleMusic=function(o){c.Instance&&(o.isChecked?c.Instance.on():c.Instance.off())},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/asset4.ts",["cc"],(function(E){"use strict";var O,_;return{setters:[function(E){O=E.cclegacy,_=E.Enum}],execute:function(){var R,A,S;E({ASSET_EXTENSION:void 0,ASSET_TYPE:void 0,AUDIO_KEY:void 0,IMAGE_KEY:void 0,SPRITESHEET_KEY:void 0}),O._RF.push({},"c85fc7IEdBM/q4Nsr6wRg+k","asset",void 0),function(E){E.PNG=".png"}(R||(R=E("ASSET_EXTENSION",{}))),function(E){E.IMAGE="image",E.SPRITESHEET="spritesheet",E.AUDIO="audio"}(A||(A=E("ASSET_TYPE",{}))),function(E){E[E._=0]="_",E[E.TILE=2]="TILE",E[E.FOOD=3]="FOOD",E[E.WALL=4]="WALL",E[E.ARROW_UP=5]="ARROW_UP",E[E.ARROW_DOWN=6]="ARROW_DOWN",E[E.ARROW_LEFT=7]="ARROW_LEFT",E[E.ARROW_RIGHT=8]="ARROW_RIGHT",E[E.LOGO_SHOPEE_ULAR=9]="LOGO_SHOPEE_ULAR",E[E.TROPHY=10]="TROPHY",E[E.SOUND_ON=11]="SOUND_ON",E[E.SOUND_OFF=12]="SOUND_OFF",E[E.ONLINE=100]="ONLINE"}(S||(S=E("IMAGE_KEY",{})));var T;E("IMAGE_KEY_PROP",{type:_(S)});!function(E){E[E._=0]="_",E[E.SNAKE=1]="SNAKE"}(T||(T=E("SPRITESHEET_KEY",{})));var t;E("SPRITESHEET_KEY_PROP",{type:_(T)});!function(E){E[E._=0]="_",E[E.BG=1]="BG",E[E.CRASH=2]="CRASH",E[E.EAT=3]="EAT",E[E.TURN=4]="TURN"}(t||(t=E("AUDIO_KEY",{})));E("AUDIO_KEY_PROP",{type:_(t)});O._RF.pop()}}}));

System.register("chunks:///_virtual/snake.ts",["cc"],(function(E){"use strict";var O;return{setters:[function(E){O=E.cclegacy}],execute:function(){var T,D,N;E({SNAKE_DIRECTION:void 0,SNAKE_SECTION_FRAME:void 0,SNAKE_SECTION_TYPE:void 0}),O._RF.push({},"cd98far46BFB5IDELPU+niu","snake",void 0),function(E){E[E.UP=0]="UP",E[E.DOWN=1]="DOWN",E[E.LEFT=2]="LEFT",E[E.RIGHT=3]="RIGHT"}(T||(T=E("SNAKE_DIRECTION",{}))),function(E){E[E.HEAD=0]="HEAD",E[E.BODY=1]="BODY",E[E.TAIL=2]="TAIL"}(D||(D=E("SNAKE_SECTION_TYPE",{}))),function(E){E[E.HEAD=0]="HEAD",E[E.BODY=1]="BODY",E[E.BODY_FOOD=2]="BODY_FOOD",E[E.TAIL=3]="TAIL",E[E.TURN=4]="TURN",E[E.TURN_FOOD=5]="TURN_FOOD"}(N||(N=E("SNAKE_SECTION_FRAME",{}))),O._RF.pop()}}}));

System.register("chunks:///_virtual/sceneKey.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var t;e("SCENE_KEY",void 0),c._RF.push({},"dd870R5rRdFH7Qg98EQQXMf","sceneKey",void 0),function(e){e.PRELOAD="preload",e.GAME="game",e.MENU="menu"}(t||(t=e("SCENE_KEY",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/DataManagerControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,o,r,n,a,s,c,i;return{setters:[function(t){e=t.cclegacy,o=t._decorator,r=t.game,n=t.sys,a=t.Component},function(t){s=t.defineProperty,c=t.inheritsLoose,i=t.assertThisInitialized}],execute:function(){var h,l,u;e._RF.push({},"dddb5HUnedInp3xd6Iyvo+F","DataManagerControl",void 0);var g=o.ccclass;t("DataManagerControl",g("DataManagerControl")((u=l=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,s(i(e),"score",0),s(i(e),"highscore",0),e}c(e,t);var o=e.prototype;return o.start=function(){e.Instance||(r.addPersistRootNode(this.node),e.Instance=this),this.highscore=n.localStorage.getItem("hiscore")||0},o.setHighScore=function(t){t>this.highscore&&(this.highscore=t,n.localStorage.setItem("hiscore",t))},e}(a),s(l,"Instance",void 0),h=u))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoaderControl.ts",["cc","./asset4.ts","./asset.ts","./_rollupPluginModLoBabelHelpers.js","./asset3.ts","./assetEvent.ts"],(function(e){"use strict";var t,s,o,a,n,r,i,d,l,c,h,u,f,g,p,A,L,m,v;return{setters:[function(e){t=e.cclegacy,s=e._decorator,o=e.EventHandler,a=e.resources,n=e.assetManager,r=e.Texture2D,i=e.SpriteFrame,d=e.math,l=e.Component},function(e){c=e.ASSET_TYPE},function(e){h=e.getAssetId,u=e.getSpriteFrameId},function(e){f=e.defineProperty,g=e.applyDecoratedDescriptor,p=e.inheritsLoose,A=e.initializerDefineProperty,L=e.assertThisInitialized},function(e){m=e.getAssets},function(e){v=e.ASSET_LOADER_EVENT}],execute:function(){var E,y,S,T,C,I,_;t._RF.push({},"e02cbA6paRHzqGMTjGLauSz","AssetLoaderControl",void 0);var P=s.ccclass,w=s.property;e("AssetLoaderControl",(E=P("AssetLoaderControl"),y=w(o),E((_=I=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,A(L(t),"onComplete",C,L(t)),f(L(t),"assetsToLoad",m()),f(L(t),"loadCount",0),f(L(t),"allowLocalAsset",!0),t}p(t,e);var s=t.prototype;return s.onLoad=function(){if(t.Instance)throw new Error("Multiple AssetLoaderControl");t.Instance=this,this.startAssetsLoad()},s.startAssetsLoad=function(){var e=this,t=this.allowLocalAsset;this.node.emit(v.START,this.getProgress()),this.assetsToLoad.forEach((function(s,o){var a=s.key,n=s.type,r=s.localUrl,i=h(n,a);t&&r?e.loadLocalAsset(i,s):e.loadRemoteAsset(i,s)}))},s.loadLocalAsset=function(e,t){var s=this,o=t.localUrl;a.load(o,(function(a,n){s.handleLoadedAsset(e,t,a,n,o),a&&console.log(a)}))},s.loadRemoteAsset=function(e,t){var s=this,o=t.url,a=t.ext;n.loadRemote(o,{ext:a},(function(a,n){s.handleLoadedAsset(e,t,a,n,o),a&&console.log(a)}))},s.handleLoadedAsset=function(e,t,s,o,a){s?this.node.emit(v.ASSET_LOAD_FAILURE,this.getProgress(),e,a):(this.loadCount+=1,this.handleLoadedAssetByType(e,o._uuid,t),this.node.emit(v.ASSET_LOAD_SUCCESS,this.getProgress(),e,a)),this.loadCount===this.assetsToLoad.length&&(this.node.emit(v.COMPLETE,this.getProgress()),this.onComplete.forEach((function(e){return e.emit([])})))},s.getProgress=function(){return this.loadCount/this.assetsToLoad.length},s.remapAssetManagerEntry=function(e,t){var s=n.assets.get(t);s&&(n.assets.add(e,s),n.assets.remove(t))},s.handleLoadedAssetByType=function(e,t,s){switch(this.remapAssetManagerEntry(e,t),s.type){case c.SPRITESHEET:this.handleLoadedSpritesheet(e,s);break;case c.IMAGE:this.handleLoadedImage(e);break;case c.AUDIO:}},s.handleLoadedSpritesheet=function(e,t){var s=n.assets.get(e),o=s||{},a=o.width,l=o.height,c=t.config||{},h=c.frameWidth,f=c.frameHeight,g=c.paddingX,p=void 0===g?0:g,A=c.paddingY,L=void 0===A?0:A;if(a&&l&&h&&f){var m=new r;m.image=s;for(var v=0,E=0;E<l;E+=f+L)for(var y=0;y<a;y+=h+p){var S=new i;S.texture=m,S.rect=d.rect(y,E,h,f),n.assets.add(u(t.key,v++),S)}}},s.handleLoadedImage=function(e){var t=n.assets.get(e);if(t){var s=i.createWithImage(t);n.assets.add(e,s)}},t}(l),f(I,"Instance",void 0),C=g((T=_).prototype,"onComplete",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=T))||S));t._RF.pop()}}}));

System.register("chunks:///_virtual/panel.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var t;e("PANEL_EVENT",void 0),c._RF.push({},"e42b9qdEHBNho2ve5gHR7R2","panel",void 0),function(e){e.PLAY_AGAIN="play",e.CANCEL="cancel"}(t||(t=e("PANEL_EVENT",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/FieldControl.ts",["cc","./asset4.ts","./asset.ts","./_rollupPluginModLoBabelHelpers.js","./snake.ts","./field.ts","./level.ts","./AudioControl.ts","./panel.ts","./DataManagerControl.ts","./PanelControl.ts","./SnakeControl.ts"],(function(e){"use strict";var t,i,n,s,o,a,r,l,c,h,u,d,f,p,v,y,g,S,k,b,E,T,w,C,P,m,I,x,D,F,A,N;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Node,s=e.Prefab,o=e.systemEvent,a=e.SystemEvent,r=e.macro,l=e.randomRangeInt,c=e.UITransform,h=e.assetManager,u=e.Vec3,d=e.Vec2,f=e.instantiate,p=e.Component},function(e){v=e.AUDIO_KEY_PROP},function(e){y=e.getAudioId},function(e){g=e.applyDecoratedDescriptor,S=e.inheritsLoose,k=e.initializerDefineProperty,b=e.assertThisInitialized,E=e.defineProperty,T=e.createClass},function(e){w=e.SNAKE_DIRECTION,C=e.SNAKE_SECTION_TYPE},function(e){P=e.FIELD_STATE,m=e.FIELD_EVENT},function(e){I=e.default},function(e){x=e.AudioControl},function(e){D=e.PANEL_EVENT},function(e){F=e.DataManagerControl},function(e){A=e.PanelControl},function(e){N=e.SnakeControl}],execute:function(){var L,O,R,U,_,K,M,z,H,Y,W,G,V,j,B,q,X,J,Q,Z,$;t._RF.push({},"fa955FThfVAyI1LqCw/V8+I","FieldControl",void 0);var ee,te=i.ccclass,ie=i.property;!function(e){e[e.snake=0]="snake",e[e.food=1]="food",e[e.wall=2]="wall",e[e.bound=3]="bound"}(ee||(ee={}));e("FieldControl",(L=te("FieldControl"),O=ie(n),R=ie(s),U=ie(s),_=ie(s),K=ie(v),M=ie(v),z=ie(v),H=ie(n),Y=ie(A),L((V=g((G=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,k(b(t),"bgNode",V,b(t)),k(b(t),"snakePrefab",j,b(t)),k(b(t),"foodPrefab",B,b(t)),k(b(t),"wallPrefab",q,b(t)),k(b(t),"eatKey",X,b(t)),E(b(t),"eatClip",void 0),k(b(t),"crashKey",J,b(t)),E(b(t),"crashClip",void 0),k(b(t),"turnKey",Q,b(t)),E(b(t),"turnClip",void 0),k(b(t),"container",Z,b(t)),k(b(t),"panel",$,b(t)),E(b(t),"cols",0),E(b(t),"rows",0),E(b(t),"tiles",[]),E(b(t),"tileSize",0),E(b(t),"snakeSections",[]),E(b(t),"nextDir",w.UP),E(b(t),"state",P.PREPARE),E(b(t),"score",0),E(b(t),"generatedTail",0),E(b(t),"lastUpdateMoveIdx",0),E(b(t),"moveInterval",0),E(b(t),"minMoveInterval",0),E(b(t),"accelerateEvery",0),E(b(t),"acceleration",0),E(b(t),"audioSource",void 0),t}S(t,e);var i=t.prototype;return i.onLoad=function(){this.setUpLevel(),this.setEventHandler()},i.start=function(){this.spawnFood(),this.waitForPlayer()},i.setEventHandler=function(){var e,t=this;o.on(a.EventType.KEY_DOWN,(function(e){var i;switch(e.keyCode){case r.KEY.up:i=w.UP;break;case r.KEY.down:i=w.DOWN;break;case r.KEY.left:i=w.LEFT;break;case r.KEY.right:i=w.RIGHT;break;default:return}t.node.emit(m.CHANGE_DIR,i)})),this.node.on(m.CHANGE_DIR,(function(e){t.setDirection(e)&&t.state===P.WAIT_PLAYER&&t.setState(P.PLAY)})),null===(e=this.panel)||void 0===e||e.node.on(D.PLAY_AGAIN,(function(){var e;t.setUpLevel(),t.waitForPlayer(),null===(e=t.panel)||void 0===e||e.hide()}))},i.setUpLevel=function(){var e=l(0,3),t=I[e],i=t.fieldConfig,n=t.snakeConfig;this.setScore(0),this.setUpField(i),this.setUpSnake(n),this.setUpAudio()},i.setUpField=function(e){var t;this.rows=e.tiles.length,this.cols=e.tiles[0].length;var i=null===(t=this.bgNode)||void 0===t?void 0:t.getComponent(c);i&&(this.tileSize=i.contentSize.x/this.cols*i.node.scale.x),this.container&&this.container.children.forEach((function(e){return e.destroy()})),this.tiles=new Array(this.rows);for(var n=0;n<this.rows;n++){this.tiles[n]=new Array(this.cols);for(var s=0;s<this.cols;s++)e.tiles[n][s]?this.createWall(s,n):this.tiles[n][s]=null}},i.setUpSnake=function(e){var t=this,i=e.interval,n=e.parts;if(this.moveInterval=i.initial,this.minMoveInterval=i.minimum,this.accelerateEvery=i.accelerateEvery,this.acceleration=i.accelerateMultiplier,this.generatedTail=0,this.lastUpdateMoveIdx=0,e.parts.length<3)throw new Error("Snake parts can't be less than 3");this.snakeSections=[],n.forEach((function(e){t.createSnakeSection(e.x,e.y,w.UP,C.BODY)}));for(var s=this.snakeSections.length-1;s>0;s--){var o=this.snakeSections[s],a=this.snakeSections[s-1],r=this.getPairsDir(a,o);if(null===r)throw new Error("Invalid snake part sequence");o.dir=r}var l=this.snakeSections[0];l.dir=this.snakeSections[1].dir,l.type=C.HEAD,this.snakeSections[this.snakeSections.length-1].type=C.TAIL,this.updateSectionNode()},i.setUpAudio=function(){if(this.audioSource=x.Instance.audioSource,this.eatKey){var e=y(this.eatKey);this.eatClip=h.assets.get(e)}if(this.crashKey){var t=y(this.crashKey);this.crashClip=h.assets.get(t)}if(this.turnKey){var i=y(this.turnKey);this.turnClip=h.assets.get(i)}},i.getPairsDir=function(e,t){var i=e.tile.clone().subtract(t.tile);return 1===i.x&&0===i.y?w.RIGHT:-1===i.x&&0===i.y?w.LEFT:0===i.x&&1===i.y?w.DOWN:0===i.x&&-1===i.y?w.UP:null},i.waitForPlayer=function(){this.setState(P.WAIT_PLAYER),this.scheduleMove()},i.scheduleMove=function(){this.unschedule(this.move),this.schedule(this.move,this.moveInterval)},i.getTilePos=function(e){var t=this.getColX(e.x),i=this.getRowY(e.y);return new u(t,i,0)},i.getColX=function(e){return(e-this.cols/2+.5)*this.tileSize},i.getRowY=function(e){return-(e-this.rows/2+.5)*this.tileSize},i.setTileContent=function(e,t){this.tiles[e.y][e.x]=t},i.getTileContent=function(e){return this.tiles[e.y][e.x]},i.spawnFood=function(){var e=this.getRandomEmptyTile();e?this.createFood(e.x,e.y):this.gameOver()},i.getRandomEmptyTile=function(){var e=[];if(this.tiles.forEach((function(t,i){return t.forEach((function(t,n){t||e.push(new d(n,i))}))})),!e.length)return null;var t=l(0,e.length);return e[t]},i.setState=function(e){this.state=e},i.createWall=function(e,t){var i=new d(e,t),n=this.getTilePos(i),s=f(this.wallPrefab);s.parent=this.container,s.setPosition(n);var o={key:ee.wall,tile:i,pos:n,node:s};return this.setTileContent(i,o),o},i.createFood=function(e,t){var i=new d(e,t),n=this.getTilePos(i),s=f(this.foodPrefab);s.parent=this.container,s.setPosition(n);var o={key:ee.food,tile:i,pos:n,node:s};return this.setTileContent(i,o),o},i.createSnakeSection=function(e,t,i,n){var s=new d(e,t),o=this.getTilePos(s),a=f(this.snakePrefab);a.parent=this.container,a.setPosition(o);var r=a.getComponent(N);r.setDir(i),r.setType(n);var l={key:ee.snake,tile:s,pos:o,type:n,node:a,control:r,dir:i,hasFood:!1};return this.snakeSections.push(l),l},i.getSnakeHead=function(){return this.snakeSections[0]},i.getSnakeTail=function(){return this.snakeSections[this.snakeSections.length-1]},i.getNextHeadTile=function(){var e=this.getSnakeHead().tile.clone();switch(this.nextDir){case w.RIGHT:e.add2f(1,0);break;case w.LEFT:e.add2f(-1,0);break;case w.UP:e.add2f(0,-1);break;case w.DOWN:e.add2f(0,1)}return e},i.setDirection=function(e){var t=this.getSnakeHead().dir,i=w.UP,n=w.DOWN,s=w.LEFT,o=w.RIGHT;switch(t){case e:break;case o:case s:if(e===s||e===o)return!1;break;case i:case n:if(e===i||e===n)return!1}return this.nextDir!==e&&this.playTurnSfx(),this.nextDir=e,!0},i.move=function(){if(this.state===P.PLAY){var e={},t={},i=this.getSnakeHead();Object.assign(t,i),i.tile=this.getNextHeadTile(),i.pos=this.getTilePos(i.tile),i.dir=this.nextDir,i.hasFood=!1,t.dir=this.nextDir;for(var n=1;n<this.snakeSections.length;n++){var s=this.snakeSections[n];Object.assign(e,s),s.tile=t.tile,s.pos=t.pos,s.dir=t.dir,s.hasFood=t.hasFood,Object.assign(t,e)}if(t.hasFood){var o=t.tile,a=o.x,r=o.y;this.getSnakeTail().type=C.BODY,this.createSnakeSection(a,r,t.dir,C.TAIL),this.generatedTail++}this.updateSectionNode();for(var l=1;l<this.snakeSections.length;l++){var c=this.snakeSections[l];this.setTileContent(c.tile,c)}if(t.hasFood||this.setTileContent(t.tile,null),this.checkLose())return this.playCrashSfx(),this.gameOver();var h=this.getTileContent(i.tile);(null==h?void 0:h.key)===ee.food&&(h.node.destroy(),i.hasFood=!0,this.onEatFood()),this.updateMoveInterval()}},i.updateSectionNode=function(){this.snakeSections.forEach((function(e,t,i){e.node.setPosition(e.pos),e.control.setDir(e.dir),e.type===C.BODY?e.control.setType(e.type,{hasFood:e.hasFood,prvDir:i[t+1].dir}):e.control.setType(e.type)}))},i.updateMoveInterval=function(){this.generatedTail!==this.lastUpdateMoveIdx&&this.generatedTail%this.accelerateEvery==0&&(this.lastUpdateMoveIdx=this.generatedTail,this.moveInterval=Math.max(this.minMoveInterval,this.moveInterval/this.acceleration),this.scheduleMove())},i.checkLose=function(){var e=this.getSnakeHead().tile;if(e.x<0||e.x>=this.cols||e.y<0||e.y>=this.rows)return!0;var t=this.getTileContent(e);return!!t&&(t.key===ee.snake||t.key===ee.wall)},i.onEatFood=function(){this.setScore(this.score+1),this.playEatSfx(),this.spawnFood()},i.setScore=function(e){this.score=e,F.Instance&&(F.Instance.score=e),this.node.emit(m.SCORE_UPDATE,e)},i.gameOver=function(){var e;this.setState(P.GAME_OVER),this.unschedule(this.move),F.Instance&&F.Instance.setHighScore(this.score),null===(e=this.panel)||void 0===e||e.show()},i.playCrashSfx=function(){this.audioSource&&this.crashClip&&this.audioSource.playOneShot(this.crashClip)},i.playEatSfx=function(){this.audioSource&&this.eatClip&&this.audioSource.playOneShot(this.eatClip)},i.playTurnSfx=function(){this.audioSource&&this.turnClip&&this.audioSource.playOneShot(this.turnClip)},T(t,[{key:"Cols",get:function(){return this.cols}},{key:"Rows",get:function(){return this.rows}},{key:"TileSize",get:function(){return this.tileSize}}]),t}(p)).prototype,"bgNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=g(G.prototype,"snakePrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=g(G.prototype,"foodPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=g(G.prototype,"wallPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=g(G.prototype,"eatKey",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=g(G.prototype,"crashKey",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=g(G.prototype,"turnKey",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=g(G.prototype,"container",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=g(G.prototype,"panel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=G))||W));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameHeaderControl.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./field.ts","./DataManagerControl.ts"],(function(e){"use strict";var t,r,i,o,n,a,l,c,s,u,h;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.Node,o=e.Label,n=e.Component},function(e){a=e.applyDecoratedDescriptor,l=e.inheritsLoose,c=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){u=e.FIELD_EVENT},function(e){h=e.DataManagerControl}],execute:function(){var f,p,b,g,d,L,y,m,v;t._RF.push({},"fff52vaY2tOpacvH270XDYw","GameHeaderControl",void 0);var C=r.ccclass,D=r.property;e("GameHeaderControl",(f=C("GameHeaderControl"),p=D(i),b=D(o),g=D(o),f((y=a((L=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,c(s(t),"field",y,s(t)),c(s(t),"scoreLabel",m,s(t)),c(s(t),"highScoreLabel",v,s(t)),t}return l(t,e),t.prototype.start=function(){var e=this;this.field&&this.field.on(u.SCORE_UPDATE,(function(t){e.scoreLabel&&(e.scoreLabel.string=t.toString())})),h.Instance&&this.highScoreLabel&&(this.highScoreLabel.string=h.Instance.highscore.toString()),this.scoreLabel&&(this.scoreLabel.string="0")},t}(n)).prototype,"field",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=a(L.prototype,"scoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=a(L.prototype,"highScoreLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=L))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./asset4.ts","./asset.ts","./asset2.ts","./DummySpritSheet.ts","./snake.ts","./field.ts","./level.ts","./AudioControl.ts","./panel.ts","./DataManagerControl.ts","./PanelControl.ts","./FieldControl.ts","./SnakeControl.ts","./sceneKey.ts","./SceneSelect.ts","./Rect.ts","./MenuControl.ts","./asset3.ts","./config.ts","./assetEvent.ts","./AssetLoaderControl.ts","./DummySprite.ts","./FieldBgControl.ts","./AssetLoadingUIControl.ts","./DummyAudio.ts","./ControllerControl.ts","./AudioToggleControl.ts","./GameHeaderControl.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});